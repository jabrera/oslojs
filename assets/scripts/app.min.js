var App={Classes:{},Controller:{},Constant:{},KeyboardListener:{},Route:{},Size:{},Utility:{},View:{},ready:e=>{App.Route.call(e)}};
App.Controller.ErrorController={construct:e=>{},index:e=>{alert("Error")},"controller-not-found":e=>{document.querySelector(".template").innerHTML=`<div style="padding: 24px"><h1>Error</h1> Controller, ${e[0]}, not found.<br><br><a href="#/${App.Utility.getControllerCode(e[0])}/${e[1]}" class="button">Refresh</a></div>`},"action-not-found":e=>{document.querySelector(".template").innerHTML=`<div style="padding: 24px"><h1>Error</h1> Action, ${e[1]}, in ${e[0]} not found.<br><br><a href="#/${App.Utility.getControllerCode(e[0])}/${e[1]}" class="button">Refresh</a></div>`},"template-not-found":e=>{document.querySelector(".template").innerHTML=`<div style="padding: 24px"><h1>Error</h1> Template, ${e[0]}, in app/views/ not found.<br><br><a href="#/${App.Utility.getControllerCode(e[0])}/${e[1]}" class="button">Refresh</a></div>`},"page-not-found":e=>{document.querySelector(".template").innerHTML=`<div style="padding: 24px"><h1>Error</h1> Page, ${e[1]}.html, in app/views/${e[0]}/ not found.<br><br><a href="#/${App.Utility.getControllerCode(e[0])}/${e[1]}" class="button">Refresh</a></div>`}};
App.Controller.HomeController={construct:e=>{},index:e=>App.View.render(),page2:e=>"/"};
App.Constant={DESKTOP_MINIMUM:1024,TABLET_MINUMUM:768,MOBILE_MINIMUM:425,DEFAULT_CONTROLLER:"home",DEFAULT_ACTION:"index",DEFAULT_TEMPLATE:"template",PREFIX:""};
App.Controller.construct=function(){};
App.KeyboardListener={keys:{},ready:()=>{let e=e=>!!App.KeyboardListener.keys.hasOwnProperty(e);window.onkeydown=(r=>{App.KeyboardListener.keys[r.which]=!0;e(16),e(17),e(18)})}};
App.Route={call:p=>{var r=App.Utility.getCAP(p);App.CONTROLLER=`${r[0].charAt(0).toUpperCase()}${r[0].slice(1)}Controller`,App.ACTION=r[1];var o=r[2];if(App.Controller.construct(o),App.View.construct(o),App.Controller.hasOwnProperty(App.CONTROLLER))if(App.Controller[App.CONTROLLER].hasOwnProperty("construct")&&App.Controller[App.CONTROLLER].construct(o),App.Controller[App.CONTROLLER].hasOwnProperty(App.ACTION)){var t=App.Controller[App.CONTROLLER][App.ACTION](o);"string"==typeof t&&App.Utility.redirect(t)}else App.location("error","action-not-found",[App.CONTROLLER,App.ACTION]);else App.location("error","controller-not-found",[App.CONTROLLER,App.ACTION])}};
App.Size={inDesktop:()=>window.outerWidth<=App.Constant.DESKTOP_MINIMUM,inTablet:()=>window.outerWidth<=App.Constant.TABLET_MINUMUM,inMobile:()=>window.outerWidth<=App.Constant.MOBILE_MINIMUM};
App.Utility={getControllerCode:t=>t.substring(0,t.length-10).toLowerCase(),redirect:t=>{var o=this.getCAP(t);App.CONTROLLER=`${o[0].charAt(0).toUpperCase()}${o[0].slice(1)}Controller`,App.ACTION=o[1];var e=o[2];void 0==e&&(e=[]),App.PARAMETERS=e,window.location=`#/${o[0]}/${o[1]}/${e.join("/")}`},getCAP:t=>{var o=t.substring(1).split("/");return o[0]=""==o[0]||void 0==o[0]?App.Constant.DEFAULT_CONTROLLER:o[0],o[1]=""==o[1]||void 0==o[1]?App.Constant.DEFAULT_ACTION:o[1],o[2]=o.splice(2),o}};
App.View={construct:e=>{App.View.setTemplate(App.Constant.DEFAULT_TEMPLATE),document.querySelector(".template").innerHTML=""},setTemplate:e=>(App.View.TEMPLATE=e,App.View),data:{},set:(e,t)=>{App.View.data[e]=t},setJson:e=>{for(var t in e)App.View.data[t]=e[t]},render:()=>{var e=App.View.TEMPLATE;if(0==e)App.View.loadPage(!1);else{var t=new XMLHttpRequest;t.onreadystatechange=(t=>{4==t.target.readyState&&(200==t.target.status?App.View.loadPage(t.target.responseText):App.location("error","template-not-found",[e,App.Utility.getControllerCode(App.CONTROLLER),App.ACTION]))}),t.open("GET",`src/views/${e}.html`),t.send()}return!0},loadPage:e=>{var t=new XMLHttpRequest;t.onreadystatechange=(t=>{if(4==t.target.readyState)if(200==t.target.status){let o=t.target.responseText;for(var p in App.View.data)o=o.replace(new RegExp("{{"+p+"}}","g"),App.View.data[p]);if(0==e)document.querySelector(".template").innerHTML=o;else{document.querySelector(".template").innerHTML=e;var r=document.createElement("div");r.innerHTML=o;for(let e=0;e<r.childNodes.length;e++)document.querySelector(".template").innerHTML=document.querySelector(".template").innerHTML.replace(new RegExp("{{"+r.childNodes[e].id+"}}","g"),r.childNodes[e].innerHTML)}document.querySelector(".template").setAttribute("moon-controller",App.Utility.getControllerCode(App.CONTROLLER)),document.querySelector(".template").setAttribute("moon-action",App.ACTION),App.View.destruct()}else App.location("error","page-not-found",[App.Utility.getControllerCode(App.CONTROLLER),App.ACTION])}),t.open("GET",`src/views/${App.Utility.getControllerCode(App.CONTROLLER)}/${App.ACTION}.html`),t.send()},destruct:()=>{}};