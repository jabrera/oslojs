var App={Classes:{},Controller:{},Constant:{},KeyboardListener:{},Route:{},Size:{},Utility:{},View:{},ready:function(e){this.Route.call(e)}};
App.Controller.ErrorController={construct:function(t){},index:function(t){alert("Error")},"controller-not-found":function(t){$(".template").html('<div style="padding: 24px"><h1>Error</h1> Controller, '+t[0]+', not found.<br><br><a href="#/'+App.Utility.getControllerCode(t[0])+"/"+t[1]+'" class="button">Refresh</a></div>')},"action-not-found":function(t){$(".template").html('<div style="padding: 24px"><h1>Error</h1> Action, '+t[1]+", in "+t[0]+' not found.<br><br><a href="#/'+App.Utility.getControllerCode(t[0])+"/"+t[1]+'" class="button">Refresh</a></div>')},"template-not-found":function(t){$(".template").html('<div style="padding: 24px"><h1>Error</h1> Template, '+t[0]+', in app/views/ not found.<br><br><a href="#/'+App.Utility.getControllerCode(t[0])+"/"+t[1]+'" class="button">Refresh</a></div>')},"page-not-found":function(t){$(".template").html('<div style="padding: 24px"><h1>Error</h1> Page, '+t[1]+".html, in app/views/"+t[0]+'/ not found.<br><br><a href="#/'+App.Utility.getControllerCode(t[0])+"/"+t[1]+'" class="button">Refresh</a></div>')}};
App.Controller.HomeController={construct:function(n){},index:function(n){return App.View.render()},page2:function(n){return"/"}};
App.Constant={DESKTOP_MINIMUM:1024,TABLET_MINUMUM:768,MOBILE_MINIMUM:425,DEFAULT_CONTROLLER:"home",DEFAULT_ACTION:"index",DEFAULT_TEMPLATE:"template",PREFIX:""};
App.Controller.construct=function(){};
App.KeyboardListener={keys:{},ready:function(){function e(e){return!!App.KeyboardListener.keys.hasOwnProperty(e)}$(document).keydown(function(n){App.KeyboardListener.keys[n.which]=!0;e(16),e(17),e(18)})}};
App.Route={call:function(p){var r=App.Utility.getCAP(p);App.CONTROLLER=r[0].charAt(0).toUpperCase()+r[0].slice(1)+"Controller",App.ACTION=r[1];var o=r[2];if(App.Controller.construct(o),App.View.construct(o),App.Controller.hasOwnProperty(App.CONTROLLER))if(App.Controller[App.CONTROLLER].hasOwnProperty("construct")&&App.Controller[App.CONTROLLER].construct(o),App.Controller[App.CONTROLLER].hasOwnProperty(App.ACTION)){var t=App.Controller[App.CONTROLLER][App.ACTION](o);"string"==typeof t&&App.Utility.redirect(t)}else App.location("error","action-not-found",[App.CONTROLLER,App.ACTION]);else App.location("error","controller-not-found",[App.CONTROLLER,App.ACTION])}};
App.Size={inDesktop:function(){return $(window).outerWidth()<=App.Constant.DESKTOP_MINIMUM},inTablet:function(){return $(window).outerWidth()<=App.Constant.TABLET_MINUMUM},inMobile:function(){return $(window).outerWidth()<=App.Constant.MOBILE_MINIMUM}};
App.Utility={getControllerCode:function(t){return t.substring(0,t.length-10).toLowerCase()},redirect:function(t){var n=this.getCAP(t);App.CONTROLLER=n[0].charAt(0).toUpperCase()+n[0].slice(1)+"Controller",App.ACTION=n[1];var o=n[2];void 0==o&&(o=[]),App.PARAMETERS=o,window.location="#/"+n[0]+"/"+n[1]+"/"+o.join("/")},getCAP:function(t){var n=t.substring(1).split("/");return n[0]=""==n[0]||void 0==n[0]?App.Constant.DEFAULT_CONTROLLER:n[0],n[1]=""==n[1]||void 0==n[1]?App.Constant.DEFAULT_ACTION:n[1],n[2]=n.splice(2),n}};
App.View={construct:function(t){this.setTemplate(App.Constant.DEFAULT_TEMPLATE),$(".template").html("")},setTemplate:function(t){return this.TEMPLATE=t,this},data:{},set:function(t,e){this.data[t]=e},setJson:function(t){for(var e in t)this.data[e]=t[e]},render:function(){var t=this.TEMPLATE;return 0==t?this.loadPage(!1):$.ajax({url:"src/views/"+t+".html",cache:!0,success:function(t){App.View.loadPage(t)},error:function(e){App.location("error","template-not-found",[t,App.Utility.getControllerCode(App.CONTROLLER),App.ACTION])}}),!0},loadPage:function(t){$.ajax({cache:!0,url:"src/views/"+App.Utility.getControllerCode(App.CONTROLLER)+"/"+App.ACTION+".html",success:function(e){for(var a in App.View.data)e=e.replace(new RegExp("{{"+a+"}}","g"),App.View.data[a]);0==t?$(".template").html(e):($(".template").html(t),$("<div></div>").html(e).children().each(function(){$(".template").html($(".template").html().replace(new RegExp("{{"+$(this).attr("id")+"}}","g"),$(this).html()))})),$(".template").attr("moon-controller",App.Utility.getControllerCode(App.CONTROLLER)).attr("moon-action",App.ACTION),App.View.destruct()},error:function(t){App.location("error","page-not-found",[App.Utility.getControllerCode(App.CONTROLLER),App.ACTION])}})},destruct:function(){$("[data-bulaga]").each(function(){var t=$(this).attr("data-bulaga").split(" "),e={},a={"slide-up":["animation","SLIDE_UP"],"slide-left":["animation","SLIDE_LEFT"],"slide-right":["animation","SLIDE_RIGHT"],"slide-down":["animation","SLIDE_DOWN"],bounce:["bounce",!0],repeat:["repeat",!0]};for(var n in t)a.hasOwnProperty(t[n])&&(e[a[t[n]][0]]=a[t[n]][1])})}};